<template>
  <!-- åº•éƒ¨æ“ä½œèœå• -->
  <view 
    v-if="visible" 
    class="fixed inset-0 z-[1500] bg-black/40"
    @tap="handleClose"
  >
    <!-- åº•éƒ¨å¼¹å‡ºèœå• -->
    <view 
      class="absolute bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg overflow-hidden"
      :style="{ paddingBottom: 'env(safe-area-inset-bottom)' }"
      @tap.stop
    >
      <view class="flex items-center justify-start h-[65px] px-4 gap-6">
        <!-- ä¸¾æŠ¥é€‰é¡¹ -->
        <view 
          class="flex flex-col items-center justify-center w-16 cursor-pointer transition-all duration-200 active:scale-95"
          @tap="handleReport"
        >
          <text class="text-xl text-orange-500">âš ï¸</text>
          <text class="text-xs text-gray-600 mt-1">ä¸¾æŠ¥</text>
        </view>

        <!-- åˆ é™¤é€‰é¡¹ - ä»…è‡ªå·±çš„å†…å®¹æ˜¾ç¤º -->
        <template v-if="canDelete">
          <view 
            class="flex flex-col items-center justify-center w-16 cursor-pointer transition-all duration-200 active:scale-95"
            @tap="handleDelete"
          >
            <text class="text-xl text-red-500">ğŸ—‘ï¸</text>
            <text class="text-xs text-gray-600 mt-1">åˆ é™¤</text>
          </view>
        </template>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
interface Props {
  visible: boolean;
  canDelete: boolean;
}

interface Emits {
  (e: 'close'): void;
  (e: 'delete'): void;
  (e: 'report'): void;
}

defineProps<Props>();
const emit = defineEmits<Emits>();

const handleClose = () => {
  emit('close');
};

const handleDelete = () => {
  emit('delete');
};

const handleReport = () => {
  emit('report');
};
</script>

<style scoped>
/* èœå•æ ·å¼ */
</style>
