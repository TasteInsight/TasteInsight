# TasteInsight 嵌入服务配置示例
# 复制此文件为 .env 并填入实际值

# ==================== 服务配置 ====================
# 服务主机地址
HOST=0.0.0.0

# 服务端口
PORT=5001

# 调试模式（生产环境设为 false）
DEBUG=false

# ==================== 模型配置 ====================
# 文本编码模型（Sentence-BERT）
TEXT_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2

# 默认嵌入版本 (v2 或 v3)
# v2: 无需训练，快速部署
# v3: 需要训练，性能更好
DEFAULT_EMBEDDING_VERSION=v2

# 模型文件目录（训练好的 .pt 文件）
MODEL_DIR=saved_models

# ==================== 设备配置 ====================
# 计算设备 (cuda/cpu/auto)
# cuda: 使用 NVIDIA GPU（如果可用）
# cpu: 强制使用 CPU
# auto: 自动检测（默认）
DEVICE=auto

# 预加载的模型版本（逗号分隔）
PRELOAD_MODELS=v2,v3

# ==================== 数据库配置（训练用）====================
# PostgreSQL 数据库主机
DB_HOST=localhost

# PostgreSQL 数据库端口
DB_PORT=5432

# 数据库名称
DB_NAME=tasteinsight

# 数据库用户
DB_USER=postgres

# 数据库密码
DB_PASSWORD=your_password_here

# ==================== 训练配置 ====================
# 训练轮数
EPOCHS=50

# 批次大小
BATCH_SIZE=256

# 学习率
LR=0.001

# 三元组损失边界
MARGIN=0.5

# 每个正样本的负样本数
NUM_NEGATIVES=2

# 菜品最少交互数（过滤低频菜品）
MIN_INTERACTIONS=5

# 训练输出路径
OUTPUT=saved_models/fusion_v3.pt

